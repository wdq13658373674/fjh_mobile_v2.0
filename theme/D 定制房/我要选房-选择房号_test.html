<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>index</title>
    <script type="text/javascript" src="../../js/fastclick.js"></script>
    <script type="text/javascript" src="../../js/public.js"></script>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="../../css/public.css"/>

    <link rel="stylesheet" href="../../css/house.css"/>

    <style>
        .page-group{position:fixed;height:100%;width:100%;}
    </style>
</head>
<body>
<div class="page-group">
    <!--header-->
   <header class="nav">
       <a class="icon arr-l pull-left" href="#"></a>
       <span class="title">我要定制</span>
   </header>

    <div class="house-select-wrap" style="margin-top:0;">
        <div class="common-title f30">御临天下4号楼</div>

        <div class="dz-num-wrap clearfix">
            <div class="pull-left txt f24 gray">楼栋切换</div>
            <div class="dz-num-box w3 clearfix">
                <label class="label-check">
                    <input type="radio" class="input-check" name="floor-num" checked>
                    <span class="floor-num">1</span>
                </label>
                <label class="label-check">
                    <input type="radio" class="input-check" name="floor-num">
                    <span class="floor-num">2</span>
                </label>
                <label class="label-check">
                    <input type="radio" class="input-check" name="floor-num">
                    <span class="floor-num">3</span>
                </label>
                <label class="label-check">
                    <input type="radio" class="input-check" name="floor-num">
                    <span class="floor-num">4</span>
                </label>
                <label class="label-check">
                    <input type="radio" class="input-check" name="floor-num">
                    <span class="floor-num">5</span>
                </label>
            </div>
        </div>
    </div>

    <div class="select-num-box" style="background: none;">
        <div class="barnner">
            <div class="num">1</div>
            <div class="num">2</div>
            <div class="num">3</div>
            <div class="num">4</div>
            <div class="num">5</div>
            <div class="num">6</div>
            <div class="num">7</div>
            <div class="num">8</div>
            <div class="num">9</div>
            <div class="num">10</div>
            <div class="num">11</div>
            <div class="num">12</div>
            <div class="num">13</div>
            <div class="num">14</div>
            <div class="num">15</div>
            <div class="num">16</div>
            <div class="num">17</div>
            <div class="num">18</div>
        </div>
        <div class="move-box clearfix" style="background: none;width:300%;">
            <div class="clearfix">
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
                <div class="item">1-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
                <div class="item">2-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
                <div class="item">3-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
                <div class="item">4-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
                <div class="item">5-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
                <div class="item">6-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
                <div class="item">7-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
                <div class="item">8-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
                <div class="item">9-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
                <div class="item">10-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
                <div class="item">11-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
                <div class="item">12-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
                <div class="item">13-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
                <div class="item">14-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
                <div class="item">15-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
                <div class="item">16-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
                <div class="item">17-25-12</div>
            </div>
            <div class="clearfix">
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
                <div class="item">18-25-12</div>
            </div>
        </div>
    </div>

    <div class="bottom-msg">
        <div class="content">
            <ul class="msg-list pull-left">
                <li class="list">
                    <div class="f18">房号</div>
                    <div class="f30">3-22-12</div>
                </li>
                <li class="list">
                    <div class="f18">建筑面积约</div>
                    <div class="f24">158.68<span class="f14">m<sup>2</sup></span></div>
                </li>
                <li class="list">
                    <div class="f18">A-1-1户型</div>
                    <div class="f22">两室两厅双卫</div>
                </li>
            </ul>

            <div class="total pull-right">
                <ul class="total-list clearfix">
                    <li class="list">
                        <p class="tit">楼栋</p>
                        <p class="f24">3</p>
                    </li>
                    <li class="list">
                        <p class="tit">楼层</p>
                        <p class="f24">22</p>
                    </li>
                </ul>
            </div>
        </div>

        <button class="next-btn">确认房源</button>
    </div>
</div>
<!--Main-js-->
<script type="text/javascript" src="../../js/zepto.min.js"></script>
<script type="text/javascript" src="../../js/jQuery1.12.3-min.js"></script>
<script src="https://cdn.bootcss.com/touchjs/0.2.14/touch.min.js"></script>
<!--Main-js end-->

<script>
    (function($){
        $.fn.zoomBox = function(options){
            var self = $(this);
            var barnner = $('.barnner');
            var defaults = {
                pre_x:0,
                pre_y:0,
                now_x:0,
                now_y:0,
                scale:1,
                now_scale:0,
                min_scale: 0.5,
                max_scale:3
            };
            var settings = $.extend({},defaults,options);

            /**触摸开始**/
            touch.on(self,'touchstart',function(ev){
                ev.preventDefault();
            })

            /**缩放***/
            touch.on(self,'pinch',function(ev){
                var curren_scale = ev.scale + (settings.scale-1);
                curren_scale=curren_scale>settings.max_scale ? settings.max_scale : curren_scale;
                curren_scale=curren_scale<settings.min_scale ? settings.min_scale : curren_scale;

                transformCss(self,settings.now_x,settings.now_y,curren_scale);
                transformCss(barnner,0,settings.now_y,curren_scale);

                settings.now_scale=curren_scale;
            })
            touch.on(self,'pinchend',function(ev){
                setTimeout(function(){
                    setRange();
                    transformCss(self,settings.now_x,settings.now_y,settings.now_scale);
                    transformCss(barnner,0,settings.now_y,settings.now_scale);
                },100)

                settings.scale=settings.now_scale;
            })

            /**拖拽**/
            touch.on(self,'drag',function(ev){
                settings.x = settings.pre_x + ev.x;
                settings.y = settings.pre_y + ev.y;

                transformCss(self,settings.x,settings.y,settings.scale);
                transformCss(barnner,0,settings.y,settings.scale);

                settings.now_x = settings.x;
                settings.now_y = settings.y;
            })
            touch.on(self,'dragend',function(ev){
                setRange();
                transformCss(self,settings.now_x,settings.now_y,settings.scale);
                transformCss(barnner,0,settings.now_y,settings.scale);

                settings.pre_x = settings.now_x;
                settings.pre_y = settings.now_y;
            })

            /**
             * 拖动边界
             * **/
            function setRange() {
                var maxX= self.width() * settings.scale+parseFloat(self.css('marginLeft')) - self.parents('.select-num-box').width()
                    ,maxY = self.height() * settings.scale+parseFloat(self.css('paddingTop')) - self.parents('.select-num-box').height();

                if(settings.now_x > 0 || maxX<0){
                    settings.now_x=0
                }
                if(Math.abs(settings.now_x) > Math.abs(maxX)){
                    settings.now_x=-maxX;
                }

                if(settings.now_y > 0 || maxY<0){
                    settings.now_y=0
                }
                if(Math.abs(settings.now_y) > Math.abs(maxY)){
                    settings.now_y=-maxY;
                }
            }

            /**
             * css3变换
             * **/
            function transformCss(dom,offX,offY,scale){
                dom.css({
                    '-webkit-transform':'translate3d(' + offX +'px,' + offY + 'px,0) '+'scale(' + scale+','+scale+')',
                    '-moz-transform':'translate3d(' + offX +'px,' + offY + 'px,0) '+'scale(' + scale+','+scale+')',
                    'transform':'translate3d(' + offX +'px,' + offY + 'px,0) '+'scale(' + scale+','+scale+')',
                    '-webkit-transform-origin':'0px 0px 0px',
                    '-moz-transform-origin':'0px 0px 0px',
                    'transform-origin':'0px 0px 0px'
                });
            }
        }
    })(jQuery)
</script>
<script>
    $(function(){
      $('.move-box').zoomBox();

        $('.move-box').on('click','.item',function(){
            var self =$(this);
            var msg = $('.bottom-msg');
            var msgH;

            if(self.hasClass('active')){
                self.removeClass('active');
                msg.removeClass('slide-up');
                msgH=0;
            }else {
                $('.item.active').removeClass('active');
                self.addClass('active');
                msg.addClass('slide-up');
                msgH =msg.height();
            }

            resizeBox(msgH);
        })
        /**
         * 重置高度
         **/
        resizeBox(0);
        function resizeBox(msgH){
            var boxDom = $('.select-num-box');
            var screenH = $('.page-group').height()
                ,topH = $('.house-select-wrap').height()
                ,headH = $('.nav').height();

            var h = screenH - (topH + headH + msgH);
            boxDom.height(h);
        }
    })
</script>
</body>
</html>